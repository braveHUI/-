@model ViewModels.Historys
@{
    ViewBag.Title = "Index";
    Layout = null;
}


<script src="~/jwplayer-7.11.1/jwplayer.js"></script>
<script>jwplayer.key = "6IwDqDmiTQKsWuNFfds1jDJE4AueI7VgBbaNjQ==";</script>

@*下拉二级菜单*@



<link href="~/Content/History.css" rel="stylesheet" />
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<script src="~/Scripts/jquery-3.1.1.js"></script>
<link href="~/Content/history/style.css" rel="stylesheet" />
<script src="~/Scripts/history/index.js"></script>
@*书籍特效*@
<link href="~/Content/Bookstyle.css" rel="stylesheet" />
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1 nav">
                <ul class="nav navbar-nav">
                    <li class="li-left"><a class="h4" href="@Url.Action("HistoryIndex")">军事历史</a></li>
                    <li class="li-left"><a class="h4" href="@Url.Action("Index","HistoryBook")">军事文学</a></li>
                    <li class="li-left"><a class="h4" href="@Url.Action("Index","HistoryVideo")">军事影视</a></li>
                </ul>
                @*<form class="navbar-form navbar-right">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="搜下看">
                    </div>
                    <button type="submit" class="btn btn-default">搜索</button>

                </form>*@
            </div>
        </div>
    </nav>


    <div class="slider-container">
        <div class="slider-control left inactive"></div>
        <div class="slider-control right"></div>
        <ul class="slider-pagi"></ul>
        <div class="slider">
            <div class="slide slide-0 active">
                <div class="slide__bg"></div>
                <div class="slide__content">
                    <svg class="slide__overlay" viewBox="0 0 720 405" preserveAspectRatio="xMaxYMax slice">
                        <path class="slide__overlay-path" d="M0,0 150,0 500,405 0,405" />
                    </svg>
                    <div class="slide__text">
                        <h2 class="slide__text-heading">军事历史</h2>
                        <p class="slide__text-desc">回顾世界各地从古至今重大军事历史事件</p>
                        <p class="slide__text-desc">更多<a href="@Url.Action("HistoryIndex")" target="_blank">军事历史</a></p>
                    </div>
                </div>
            </div>
            <div class="slide slide-1 ">
                <div class="slide__bg"></div>
                <div class="slide__content">
                    <svg class="slide__overlay" viewBox="0 0 720 405" preserveAspectRatio="xMaxYMax slice">
                        <path class="slide__overlay-path" d="M0,0 150,0 500,405 0,405" />
                    </svg>
                    <div class="slide__text">
                        <h2 class="slide__text-heading">军事影视</h2>
                        <p class="slide__text-desc">世界各国关于战争的记录影视作品</p>
                        <a href="@Url.Action("Index","HistoryVideo")" class="slide__text-link">了解更多</a>
                    </div>
                </div>
            </div>
            <div class="slide slide-2">
                <div class="slide__bg"></div>
                <div class="slide__content">
                    <svg class="slide__overlay" viewBox="0 0 720 405" preserveAspectRatio="xMaxYMax slice">
                        <path class="slide__overlay-path" d="M0,0 150,0 500,405 0,405" />
                    </svg>
                    <div class="slide__text">
                        <h2 class="slide__text-heading">军事文学</h2>
                        <p class="slide__text-desc">关于军事的文学作品与战争资料</p>
                        <a href="@Url.Action("Index","HistoryBook")" class="slide__text-link">了解更多</a>
                    </div>
                </div>
            </div>
            <div class="slide slide-3">
                <div class="slide__bg"></div>
                <div class="slide__content">
                    <svg class="slide__overlay" viewBox="0 0 720 405" preserveAspectRatio="xMaxYMax slice">
                        <path class="slide__overlay-path" d="M0,0 150,0 500,405 0,405" />
                    </svg>
                    <div class="slide__text">
                        <h2 class="slide__text-heading">铭记历史，珍爱和平</h2>
                        <p class="slide__text-desc">二十世纪已过了，战争知多少？战争充满血腥风，二十一世纪正在发展中。悲惨历历都还在，有些人不改。错路之人何时悔？历史列车千万莫追尾！</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand h2" href="@Url.Action("Index","HistoryVideo")">军事影视</a>
            </div>
        </div>
    </nav>
    <div>
        <style type="text/css">
            img {
                border: 0;
            }

            li {
                list-style: none;
            }

            .user_callback #user_pic {
                position: relative;
                overflow: hidden;
                height: 450px;
                width: 1200px;
                z-index: 2;
                margin: 0 auto;
            }

                .user_callback #user_pic ul {
                    width: 990px;
                    height: 285px;
                    position: relative;
                    top: 20px;
                    left: 105px;
                }

                    .user_callback #user_pic ul li {
                        position: absolute;
                    }

                    .user_callback #user_pic ul img {
                        position: relative;
                        top: 0;
                        left: 0;
                    }

                    .user_callback #user_pic ul .user_pic1 {
                        top: -285px;
                        left: -231px;
                        z-index: 0;
                    }

                    .user_callback #user_pic ul .user_pic2 {
                        top: -23px;
                        left: -99.5px;
                        z-index: 2;
                    }

                    .user_callback #user_pic ul .user_pic3 {
                        top: 66px;
                        left: 68px;
                        z-index: 3;
                    }

                    .user_callback #user_pic ul .user_pic4 {
                        top: 110px;
                        left: 247.5px;
                        z-index: 4;
                    }

                    .user_callback #user_pic ul .user_pic5 {
                        top: 110px;
                        left: 495px;
                        z-index: 3;
                    }

                    .user_callback #user_pic ul .user_pic6 {
                        top: 66px;
                        left: 695.5px;
                        z-index: 2;
                    }

                    .user_callback #user_pic ul .user_pic7 {
                        top: -23px;
                        left: 852px;
                        z-index: 1;
                    }

                    .user_callback #user_pic ul .user_pic8 {
                        top: -285px;
                        left: 1000px;
                        z-index: 0;
                    }

                    .user_callback #user_pic ul .user_pic1 a {
                        width: 216.5px;
                        height: 248px;
                    }

                    .user_callback #user_pic ul .user_pic2 a {
                        width: 225.5px;
                        height: 259px;
                    }

                    .user_callback #user_pic ul .user_pic3 a {
                        width: 247.5px;
                        height: 285px;
                    }

                    .user_callback #user_pic ul .user_pic4 a {
                        width: 247.5px;
                        height: 285px;
                    }

                    .user_callback #user_pic ul .user_pic5 a {
                        width: 247.5px;
                        height: 285px;
                    }

                    .user_callback #user_pic ul .user_pic6 a {
                        width: 247.5px;
                        height: 285px;
                    }

                    .user_callback #user_pic ul .user_pic7 a {
                        width: 225.5px;
                        height: 259px;
                    }

                    .user_callback #user_pic ul .user_pic8 a {
                        width: 216.5px;
                        height: 248px;
                    }


                    .user_callback #user_pic ul li:hover {
                        background: #d9bb83;
                    }

                    .user_callback #user_pic ul li.user_pic1 {
                        opacity: 0.2;
                        filter: alpha(opacity:20);
                    }

                    .user_callback #user_pic ul li.user_pic2 {
                        opacity: 0.6;
                        filter: alpha(opacity:60);
                    }

                    .user_callback #user_pic ul li.user_pic3 {
                        opacity: 0.8;
                        filter: alpha(opacity:80);
                    }

                    .user_callback #user_pic ul li.user_pic4 {
                        opacity: 1;
                        filter: alpha(opacity:100);
                    }

                    .user_callback #user_pic ul li.user_pic5 {
                        opacity: 1;
                        filter: alpha(opacity:100);
                    }

                    .user_callback #user_pic ul li.user_pic6 {
                        opacity: 0.8;
                        filter: alpha(opacity:80);
                    }

                    .user_callback #user_pic ul li.user_pic7 {
                        opacity: 0.6;
                        filter: alpha(opacity:60);
                    }

                    .user_callback #user_pic ul li.user_pic8 {
                        opacity: 0.2;
                        filter: alpha(opacity:20);
                    }

                    .user_callback #user_pic ul li.user_pic1 img {
                        width: 216.5px;
                        height: 248px;
                    }

                    .user_callback #user_pic ul li.user_pic2 img {
                        width: 225.5px;
                        height: 259px;
                    }

                    .user_callback #user_pic ul li.user_pic3 img {
                        width: 230.5px;
                        height: 264px;
                    }

                    .user_callback #user_pic ul li.user_pic4 img {
                        width: 247.5px;
                        height: 285px;
                    }

                    .user_callback #user_pic ul li.user_pic5 img {
                        width: 247.5px;
                        height: 285px;
                    }

                    .user_callback #user_pic ul li.user_pic6 img {
                        width: 230.5px;
                        height: 264px;
                    }

                    .user_callback #user_pic ul li.user_pic7 img {
                        width: 225.5px;
                        height: 259px;
                    }

                    .user_callback #user_pic ul li.user_pic8 img {
                        width: 216.5px;
                        height: 248px;
                    }

                .user_callback #user_pic span {
                    display: inline-block;
                    *display: inline;
                    *zoom: 1;
                    width: 80px;
                    height: 80px;
                    position: absolute;
                    top: 160px;
                    z-index: 30;
                    cursor: pointer;
                    opacity: 0.7;
                    filter: alpha(opacity=70);
                }

                .user_callback #user_pic:hover span {
                    opacity: 1;
                    filter: alpha(opacity=100);
                }

                .user_callback #user_pic span img {
                    width: 80px;
                    height: 80px;
                    display: block;
                }

                .user_callback #user_pic span.prev {
                    background: url(/Images/img/5836af12Neb8a5654.png) no-repeat;
                    position: absolute;
                    top: 100px;
                    left: 5px;
                    display: inline-block;
                    width: 60px;
                    height: 60px;
                }

                .user_callback #user_pic span.next {
                    background: url(/Images/img/5836af12N536e472b.jpg) no-repeat;
                    position: absolute;
                    top: 100px;
                    right: 5px;
                    display: inline-block;
                    width: 60px;
                    height: 60px;
                }

                .user_callback #user_pic span.prev:hover {
                    background: url(/Images/img/5836af12Neb8a56523.png) no-repeat;
                }

                .user_callback #user_pic span.next:hover {
                    background: url(/Images/img/5836b011N9a4d4531.jpg) no-repeat;
                }

            .user_callback {
                background: url(/Images/history/china-1.jpg);
                opacity: 0.7;
                overflow: hidden;
            }
        </style>

        <div class="user_callback">
            <div class="user_pic" id="user_pic">
                <span class="prev"></span>   <span class="next"></span>
                <ul id="user_call">
                    <li class="user_pic1">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=8,classid=1})"> <img src="~/Images/img/比利林恩.jpg" alt="1" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic2">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=7,classid=2})"> <img src="~/Images/img/大偷袭.jpg" alt="2" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic3">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=9,classid=2})"> <img src="~/Images/img/父辈的旗帜.jpg" alt="3" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic4">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=1,classid=1})"> <img src="~/Images/img/集结号.jpg" alt="4" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic5">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=2,classid=2})"> <img src="~/Images/img/狂怒.jpg" alt="5" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic6">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=3,classid=1})"> <img src="/Images/img/南京.jpg" alt="6" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic7">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=12,classid=2})"> <img src="~/Images/img/血战钢锯岭.jpg" alt="7" width="248" height="285" /></a>
                    </li>
                    <li class="user_pic8">
                        <a href="@Url.Action("Detail","HistoryVideo",new { id=6,classid=2})"> <img src="~/Images/img/这里的黎明.jpg" alt="8" width="248" height="285" /></a>
                    </li>
                </ul>
            </div>
        </div>

        <script type="text/javascript">
function arcSlip()
  {
	 var oPic=document.getElementById('user_pic');
	 var oPrev=getByClass(oPic,'prev')[0];
	 var oNext=getByClass(oPic,'next')[0];

	 var aLi=oPic.getElementsByTagName('li');

	 var arr=[];

	 for(var i=0;i<aLi.length;i++)
	 {
	   var oImg=aLi[i].getElementsByTagName('img')[0];

	 	 arr.push([parseInt(getStyle(aLi[i],'left')),parseInt(getStyle(aLi[i],'top')),
		           getStyle(aLi[i],'zIndex'),oImg.width,parseFloat(getStyle(aLi[i],'opacity')*100)]);
	 }


	 oPrev.onclick=function moveTP()
	 {
	     arr.push(arr[0]);
		 arr.shift();
		     for(var i=0;i<aLi.length;i++)
	         {
			     var oImg=aLi[i].getElementsByTagName('img')[0];

					aLi[i].style.zIndex=arr[i][2];
					startMove(aLi[i],{left:arr[i][0],top:arr[i][1],opacity:arr[i][4]});
					startMove(oImg,{width:arr[i][3]});
			 }

	 }

	oNext.onclick=function moveTN()
	 {
	      arr.unshift(arr[arr.length-1]);
		  arr.pop();
		     for(var i=0;i<aLi.length;i++)
	         {
			     var oImg=aLi[i].getElementsByTagName('img')[0];

					aLi[i].style.zIndex=arr[i][2];
					startMove(aLi[i],{left:arr[i][0],top:arr[i][1],opacity:arr[i][4]});
					startMove(oImg,{width:arr[i][3]});
			 }
	 }
    var moveTime = setInterval (function(){

		oNext.click();

		},1000);
	$('#user_pic').hover(function(){
		;;
         clearInterval(moveTime);
            },function(){
        moveTime=setInterval(function(){
		oNext.click();
		},1000);
            });

 function getStyle(obj,name)
	 {
	       if(obj.currentStyle){ return obj.currentStyle[name]; }
		   else{ return getComputedStyle(obj,false)[name]; }
	 }
  }
function getByClass(oParent,sClass)
  {
      var aResult=[];
	  var aEle=oParent.getElementsByTagName('*');

		  for(var i=0;i<aEle.length;i++)
		  {
			 if(aEle[i].className==sClass)
			 {
				aResult.push(aEle[i]);
			 }
		  }
	  return aResult;
  }
function getStyle(obj,name)
  {
       if(obj.currentStyle)
	   {
	       return obj.currentStyle[name];
	   }

	   else
	   {
	       return getComputedStyle(obj,false)[name];
	   }
  }
 function startMove(obj,json,fnEnd)
  {
       clearInterval(obj.timer);
       obj.timer=setInterval(function()
	   {
		 var bStop=true;
		 for(var attr in json)
	     {
			   var cur=0;

			   if(attr=='opacity')
			   {
					cur=Math.round(parseFloat(getStyle(obj,attr))*100);
			   }
			   else
			   {
					cur=parseInt(getStyle(obj,attr));
			   }

			   var  speed=(json[attr]-cur)/6;
			   speed=speed>0?Math.ceil(speed):Math.floor(speed);

			   if(cur!=json[attr]) bStop=false;

			   if(attr=='opacity')
			   {
				   obj.style.filter='alpha(opacity:'+(cur+speed)+')';
				   obj.style.opacity=(cur+speed)/100;
			   }
			   else
			   {
				   obj.style[attr]=cur+speed+'px';
			   }
		 }

		 if(bStop)
		 {
		     clearInterval(obj.timer);
			 if(fnEnd) fnEnd();
		 }

	   },30)


  }
  arcSlip();
        </script>
    </div>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand h2" href="@Url.Action("Index","HistoryBook")">军事书籍</a>
            </div>
        </div>
    </nav>
    <div class="alldiv">
        <div class="lanren">
            <ul>
                @foreach (var item in Model.FindAllBook)
                {
                    <li>
                        <a href="#" class="a1">
                            <img src="@item.Book_img">
                            <div class="divA">
                                <p class="p1">《@item.BookName》</p>
                                <p class="p2">@item.Author</p>
                                <p class="p3">@item.Keyword</p>
                            </div>
                        </a>
                        <a href="@Url.Action("Index","HistoryBook",new { id=item.Book_id})" class="a2">
                            <p class="p7">查看详情></p>
                        </a>
                    </li>
                }
            </ul>
        </div>
        <script src="http://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
        <script>
$(function(){
	$('.lanren li').mouseenter(function(){
		$(this).find('.divA').stop().animate({bottom:'-66px'});
		$(this).find('.a2').css({left:'0'})
		$(this).children('.a2').find('.p4').css({left:'0'})
		$(this).children('.a2').find('.p5').css({left:'0'})
		$(this).children('.a2').find('.p6').css({transform:'scale(1)'})
		$(this).children('.a2').find('.p7').css({bottom:'25px'})
	})
	$('.lanren li').mouseleave(function(){
		$(this).find('.divA').stop().animate({bottom:'0px'});
		$(this).find('.a2').css({left:-$(this).width()})
		$(this).children('.a2').find('.p4').css({left:-$(this).width()})
		$(this).children('.a2').find('.p5').css({left:-$(this).width()})
		$(this).children('.a2').find('.p6').css({transform:'scale(1.3)'})
		$(this).children('.a2').find('.p7').css({bottom:'-50px'})
	})
})
        </script>


    </div>
    <div class="History-bottom">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand h2" href="@Url.Action("HistoryIndex")">军事历史</a>
                </div>
            </div>
        </nav>
        <div class="footdiv">
            <ul>
                @foreach (var item in Model.FindHistory)
                {
                    <li><a href="@Url.Action("HistoryDetail",new{ id=item.History_id,classid=item.HistoryClassify_id})">@item.HistoryTopic</a></li>
                }
            </ul>
        </div>
    </div>
</body>
